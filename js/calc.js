var data = [
    {
        "label": "Golem",
        "shiptype": "Marauders",
        "points": 19
    },
    {
        "label": "Kronos",
        "shiptype": "Marauders",
        "points": 19
    },
    {
        "label": "Paladin",
        "shiptype": "Marauders",
        "points": 19
    },
    {
        "label": "Vargur",
        "shiptype": "Marauders",
        "points": 19
    },
    {
        "label": "Dominix",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Barghest",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Bhaalgorn",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Machariel",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Nightmare",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Rattlesnake",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Vindicator",
        "shiptype": "Pirate Faction Battleships",
        "points": 19
    },
    {
        "label": "Apocalypse Navy Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Apocalypse Imperial Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Megathron Federate Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Megathron Navy Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Raven Navy Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Raven State Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Tempest Fleet Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Tempest Tribal Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Typhoon Fleet Issue",
        "shiptype": "Navy Faction Battleships",
        "points": 17
    },
    {
        "label": "Abaddon",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Apocalypse",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Armageddon",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Hyperion",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Maelstrom",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Megathron",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Raven",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Rokh",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Scorpion",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Tempest",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Typhoon",
        "shiptype": "Battleships",
        "points": 16
    },
    {
        "label": "Panther",
        "shiptype": "Black Ops",
        "points": 17
    },
    {
        "label": "Redeemer",
        "shiptype": "Black Ops",
        "points": 17
    },
    {
        "label": "Sin",
        "shiptype": "Black Ops",
        "points": 17
    },
    {
        "label": "Widow",
        "shiptype": "Black Ops",
        "points": 17
    },
    {
        "label": "Absolution",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Astarte",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Claymore",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Damnation",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Eos",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Nighthawk",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Sleipnir",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Vulture",
        "shiptype": "Command Ships",
        "points": 16
    },
    {
        "label": "Legion",
        "shiptype": "Strategic Cruisers",
        "points": 16
    },
    {
        "label": "Loki",
        "shiptype": "Strategic Cruisers",
        "points": 16
    },
    {
        "label": "Proteus",
        "shiptype": "Strategic Cruisers",
        "points": 16
    },
    {
        "label": "Tengu",
        "shiptype": "Strategic Cruisers",
        "points": 16
    },
    {
        "label": "Ishtar",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Arazu",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Curse",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Falcon",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Huginn",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Lachesis",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Pilgrim",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Rapier",
        "shiptype": "Recon Ships",
        "points": 13
    },
    {
        "label": "Brutix",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Cyclone",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Drake",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Ferox",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Harbinger",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Hurricane",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Myrmidon",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Naga",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Oracle",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Prophecy",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Talos",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Tornado",
        "shiptype": "Battlecruisers",
        "points": 11
    },
    {
        "label": "Basilisk",
        "shiptype": "Logistics Cruisers",
        "points": 13
    },
    {
        "label": "Guardian",
        "shiptype": "Logistics Cruisers",
        "points": 13
    },
    {
        "label": "Oneiros",
        "shiptype": "Logistics Cruisers",
        "points": 13
    },
    {
        "label": "Scimitar",
        "shiptype": "Logistics Cruisers",
        "points": 13
    },
    {
        "label": "Gnosis",
        "shiptype": "Special Edition Battlecruiser",
        "points": 11
    },
    {
        "label": "Ashimmu",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Augoror Navy Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Cynabal",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Exequror Navy Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Gila",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Guardian-Vexor",
        "shiptype": "Faction Cruisers",
        "points": 9
    },
    {
        "label": "Omen Navy Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Osprey Navy Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Phantasm",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Scythe Fleet Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Stabber Fleet Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Stratios",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Vexor Navy Issue",
        "shiptype": "Navy Faction Cruisers",
        "points": 9
    },
    {
        "label": "Vigilant",
        "shiptype": "Pirate Faction Cruisers",
        "points": 11
    },
    {
        "label": "Cerberus",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Deimos",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Eagle",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Muninn",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Sacrilege",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Vagabond",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Zealot",
        "shiptype": "Heavy Assault Cruisers",
        "points": 12
    },
    {
        "label": "Broadsword",
        "shiptype": "Heavy Interdictors",
        "points": 11
    },
    {
        "label": "Devoter",
        "shiptype": "Heavy Interdictors",
        "points": 11
    },
    {
        "label": "Onyx",
        "shiptype": "Heavy Interdictors",
        "points": 11
    },
    {
        "label": "Phobos",
        "shiptype": "Heavy Interdictors",
        "points": 11
    },
    {
        "label": "Augoror",
        "shiptype": "Cruisers",
        "points": 10
    },
    {
        "label": "Exequror",
        "shiptype": "Cruisers",
        "points": 10
    },
    {
        "label": "Osprey",
        "shiptype": "Cruisers",
        "points": 10
    },
    {
        "label": "Scythe",
        "shiptype": "Cruisers",
        "points": 10
    },
    {
        "label": "Arbitrator",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Bellicose",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Blackbird",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Caracal",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Celestis",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Maller",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Moa",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Omen",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Rupture",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Stabber",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Thorax",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Vexor",
        "shiptype": "Cruisers",
        "points": 6
    },
    {
        "label": "Hyena",
        "shiptype": "Electronic Attack Frigates",
        "points": 5
    },
    {
        "label": "Keres",
        "shiptype": "Electronic Attack Frigates",
        "points": 5
    },
    {
        "label": "Kitsune",
        "shiptype": "Electronic Attack Frigates",
        "points": 5
    },
    {
        "label": "Sentinel",
        "shiptype": "Electronic Attack Frigates",
        "points": 5
    },
    {
        "label": "Confessor",
        "shiptype": "Strategic Destroyers",
        "points": 6
    },
    {
        "label": "Svipul",
        "shiptype": "Strategic Destroyers",
        "points": 6
    },
    {
        "label": "Jackdaw",
        "shiptype": "Strategic Destroyers",
        "points": 6
    },
    {
        "label": "Hecate",
        "shiptype": "Strategic Destroyers",
        "points": 6
    },
    {
        "label": "Enyo",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Harpy",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Hawk",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Ishkur",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Jaguar",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Retribution",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Vengeance",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Wolf",
        "shiptype": "Assault Frigates",
        "points": 4
    },
    {
        "label": "Anathema",
        "shiptype": "Covert Ops",
        "points": 4
    },
    {
        "label": "Buzzard",
        "shiptype": "Covert Ops",
        "points": 4
    },
    {
        "label": "Cheetah",
        "shiptype": "Covert Ops",
        "points": 4
    },
    {
        "label": "Helios",
        "shiptype": "Covert Ops",
        "points": 4
    },
    {
        "label": "Astero",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Caldari Navy Hookbill",
        "shiptype": "Navy Faction Frigates",
        "points": 3
    },
    {
        "label": "Cruor",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Daredevil",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Dramiel",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Federation Navy Comet",
        "shiptype": "Navy Faction Frigates",
        "points": 3
    },
    {
        "label": "Gold Magnate",
        "shiptype": "Faction Frigates",
        "points": 4
    },
    {
        "label": "Imperial Navy Slicer",
        "shiptype": "Navy Faction Frigates",
        "points": 3
    },
    {
        "label": "Republic Fleet Firetail",
        "shiptype": "Navy Faction Frigates",
        "points": 3
    },
    {
        "label": "Silver Magnate",
        "shiptype": "Faction Frigates",
        "points": 4
    },
    {
        "label": "Succubus",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Worm",
        "shiptype": "Pirate Faction Frigates",
        "points": 4
    },
    {
        "label": "Crucifier",
        "shiptype": "Tech 1 Disruption Frigate",
        "points": 3
    },
    {
        "label": "Griffin",
        "shiptype": "Tech 1 Disruption Frigate",
        "points": 3
    },
    {
        "label": "Maulus",
        "shiptype": "Tech 1 Disruption Frigate",
        "points": 3
    },
    {
        "label": "Vigil",
        "shiptype": "Tech 1 Disruption Frigate",
        "points": 3
    },
    {
        "label": "Eris",
        "shiptype": "Interdictors",
        "points": 4
    },
    {
        "label": "Flycatcher",
        "shiptype": "Interdictors",
        "points": 4
    },
    {
        "label": "Heretic",
        "shiptype": "Interdictors",
        "points": 4
    },
    {
        "label": "Sabre",
        "shiptype": "Interdictors",
        "points": 4
    },
    {
        "label": "Hound",
        "shiptype": "Stealth Bombers",
        "points": 3
    },
    {
        "label": "Manticore",
        "shiptype": "Stealth Bombers",
        "points": 3
    },
    {
        "label": "Nemesis",
        "shiptype": "Stealth Bombers",
        "points": 3
    },
    {
        "label": "Purifier",
        "shiptype": "Stealth Bombers",
        "points": 3
    },
    {
        "label": "Algos",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Catalyst",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Coercer",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Corax",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Cormorant",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Dragoon",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Talwar",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Thrasher",
        "shiptype": "Destroyers",
        "points": 3
    },
    {
        "label": "Ares",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Claw",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Crow",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Crusader",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Malediction",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Raptor",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Stiletto",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Taranis",
        "shiptype": "Interceptors",
        "points": 3
    },
    {
        "label": "Atron",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Bantam",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Breacher",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Burst",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Condor",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Executioner",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Heron",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Imicus",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Incursus",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Inquisitor",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Kestrel",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Magnate",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Merlin",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Navitas",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Probe",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Punisher",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Rifter",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Slasher",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Tormentor",
        "shiptype": "Frigates",
        "points": 2
    },
    {
        "label": "Tristan",
        "shiptype": "Frigates",
        "points": 2
    }]
var points = 0;
$(document).ready(function(){
    // Apply autocomplete
    setAutoComplete();

	// Adding new ship to list
	$("#newShip").click(function(){
	var newEntry = $("#orig").clone().removeAttr("id");
    newEntry.find("input").val("");
	newEntry.insertAfter($(".ship").last());
        $(".shipEntry"  ).each(function(){
            setAutoComplete();
        });
	});

	// Autofill
    function setAutoComplete(){
	   $( ".shipEntry" ).autocomplete({source:data, delay:0});
    }

    // Overrides the default autocomplete filter function to search only from the beginning of the string
    $.ui.autocomplete.filter = function (array, term) {
        var matcher = new RegExp("^" + $.ui.autocomplete.escapeRegex(term), "i");
        return $.grep(array, function (value) {
            return matcher.test(value.label || value.value || value);
        });
    };

    setInterval(calc, 100);
    function calc(){

        points = 0;
        $(".shipEntry").each(function(){
            var shipPoints = getPoints($(this).val());
            points += shipPoints
            });
        if(!points == "0"){
            $("#totalpoints").text(points);
        }
        if(points == 100){
            $("#totalpoints").css("color","green");
        }else{
            $("#totalpoints").css("color","red");
        }
        
    }
    calc();
    function getPoints(val){   
        for(var i = 0; i < data.length; i++){
            if(data[i].label == val){
                return data[i].points;
            }
        }
        return 0
    }

    $("#fleetcomp").change(function(){
        var text = $(this).val();
        var txtarr = text.split("\n");
        var fpoints = 0;
        for(var k in txtarr){
            fpoints += getPoints(txtarr[k].split("\t")[2]);
        }
        $("#totalpoints").text(fpoints);
        if(fpoints == 100){
            $("#totalpoints").css("color","green");
        }else{
            $("#totalpoints").css("color","red");
        }
    });
});

	
